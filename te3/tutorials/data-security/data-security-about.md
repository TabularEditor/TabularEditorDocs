---
uid: data-security-about
title: What is Data Security?
author: Kurt Buhler
updated: 2023-03-02
applies_to:
  editions:
    - edition: Desktop
    - edition: Business
    - edition: Enterprise
---
# What is Data Security?

![Data Security Visual Abstract](~/images/data-security/data-security-visual-abstract.png)

---

Published datasets can be configured with Data Security using <span style="color:#01a99d">[Row-Level Security (RLS)](https://learn.microsoft.com/en-us/power-bi/enterprise/service-admin-rls)</span> (for Tables) or <span style="color:#8d7bae">[Object-Level Security (OLS)](https://learn.microsoft.com/en-us/power-bi/enterprise/service-admin-ols?tabs=table)</span> (for Tables & Columns). __The purpose of Data Security is to ensure users only see and use data they are permitted to, both in published reports and when making their own, self-service data solutions.__ To do this, users are assigned to __Roles__ which have <span style="color:#01a99d">__RLS__</span> or <span style="color:#8d7bae">__OLS__</span> rules configured, which <span style="color:#01a99d">__filter (RLS)__</span> or <span style="color:#8d7bae">__restrict (OLS)__</span> queries generated by reports & client tools like Power BI Desktop or Excel. 

While [not obligatory](https://learn.microsoft.com/en-us/power-bi/guidance/rls-guidance#when-to-avoid-using-rls), [Data Security is a common feature of a robust, secure & compliant enterprise BI solution](https://learn.microsoft.com/en-us/power-bi/guidance/powerbi-implementation-planning-security-report-consumer-planning#enforce-data-security-based-on-consumer-identity). This series is a functional introduction to Data Security, as it pertains to tabular modeling & Tabular Editor.

_Both RLS & OLS can be easily configured, modified and tested from within Tabular Editor._

---

- __About Data Security and RLS/OLS (This Article):__ A functional overview of <span style="color:#01a99d">RLS</span> & <span style="color:#8d7bae">OLS</span>.
- [__Modify/Setup an RLS Configuration:__](data-security-setup-rls.md) How to configure <span style="color:#01a99d">RLS</span> in a dataset.
- [__Modify/Setup an OLS Configuration:__](data-security-setup-ols.md) How to configure <span style="color:#8d7bae">OLS</span> in a dataset.
- [__Testing RLS/OLS with Impersonation:__](data-security-testing.md) How to easily validate Data Security with Tabular Editor.

<div class="NOTE">
  <h5>WHY CONFIGURE ROW- OR OBJECT-LEVEL SECURITY?</h5>
  Configuring RLS or OLS can be benificial for your model & reporting:  
  <li> Reduce risk and improve governance by ensuring users only see data they have access to.
  <li> Configure dynamic RLS with central role tables for consistency and lightweight maintenance.
  <li> Have granular control over what data and objects can be queried.
</div>

---

### How Does it Work?
Data Security works at the level of the model. It is configured following the below steps:

#### 1. __Create Roles:__ 
_Roles_ are groups of users who have the same permission / data security logic. _Users_ in this case are identified by their email, or the email of an [Azure AD Security Group](https://learn.microsoft.com/en-us/power-bi/guidance/powerbi-implementation-planning-security-tenant-level-planning#integration-with-azure-ad). Examples of roles:
  - Users in the same region, team or department (_EMEA_, _UA Sales Team_).
  - Users with the same role, function or access clearance (_Key Account Managers_, _SC Clearance_).
  - Groups defined by other business logic or arbitrary rules (_Externals_, _Build Users_). 

<figure style="padding-top: 15px;">
  <img class="noscale" src="~/images/data-security/data-security-create-role.png" alt="Data Security Create Role" style="width: 550px;"/>
  <figcaption style="font-size: 12px; padding-top: 10px; padding-bottom: 15px; padding-left: 75px; padding-right: 75px; color:#00766e"><strong>Figure 1:</strong> In Tabular Editor, Roles are one of the top-level object types (like Tables, Relationships, etc).</figcaption>
</figure>

> [!IMPORTANT]
> After creating a new Role in Tabular Editor, you must first set the `Model Permission` property to `Read`. 

#### 2. __Specify Rules:__ 
_Rules_ are applied for each role to one or more objects, depending on the security type:
- _<span style="color:#01a99d">RLS Table Permissions:</span>_ DAX table expressions -- return each row evaluating `True`. These permissions traverse relationships; __the design of the model is imperative to good RLS rules.__

<figure style="padding-top: 15px;">
  <img class="noscale" src="~/images/data-security/data-security-table-permissions.png" alt="Data Security Create Role" style="width: 550px;"/>
  <figcaption style="font-size: 12px; padding-top: 10px; padding-bottom: 15px; padding-left: 75px; padding-right: 75px; color:#00766e"><strong>Figure 2:</strong> In Tabular Editor, Table Permissions for RLS are visible under the role. New table permissions can be created by right-clicking a Role and selecting <i>'Add Table Partition...'</i></figcaption>
</figure>

<figure style="padding-top: 15px;">
  <img class="noscale" src="~/images/data-security/data-security-table-permissions-dax.png" alt="Data Security Create Role" style="width: 550px;"/>
  <figcaption style="font-size: 12px; padding-top: 10px; padding-bottom: 15px; padding-left: 75px; padding-right: 75px; color:#00766e"><strong>Figure 3:</strong> Table Permission DAX is visible in the Expression Editor when selecting a Table Permission.</figcaption>
</figure>

- _<span style="color:#8d7bae">OLS Object Permissions:</span>_ These permissions apply to the primary objects as well as all downstream dependents.
    - `Read` (Can see / query)
    - `None` (Cannot see / query)
    - `Default` (No policy configured; equivalent to `Read`)

<figure style="padding-top: 15px;">
  <img class="noscale" src="~/images/data-security/data-security-table-permissions-dax.png" alt="Data Security Create Role" style="width: 550px;"/>
  <figcaption style="font-size: 12px; padding-top: 10px; padding-bottom: 15px; padding-left: 75px; padding-right: 75px; color:#00766e"><strong>Figure 4:</strong> In Tabular Editor, object permissions are accessible in the 'Properties' window, under the 'Translations, Perspectives, Security' heading.</figcaption>
</figure>

#### 3. __Assign Users to Roles:__ 
Once configured in the dataset, users must be added to their respective roles.
- _Power BI:_ Roles are assigned either via Tabular Editor or the __Power BI/Fabric service__, [in the dataset settings from the Workspace](https://learn.microsoft.com/en-us/fabric/security/service-admin-row-level-security#manage-security-on-your-model).
- _SSAS / AAS:_ Roles are assigned via the Role object, by right-clicking and selecting "Edit Members..."
- _Power BI Embedded:_ You must [generate an embed token](https://learn.microsoft.com/en-us/power-bi/developer/embedded/cloud-rls#generate-an-embed-token).

You can assign and remove users/groups from roles through Tabular Editor the following way:

  1. Right-Click the __Role__, select __Edit members__...
  
<figure style="padding-top: 15px;">
  <img class="noscale" src="~/images/data-security/data-security-edit-members.png" alt="Data Security Create Role" style="width: 550px;"/>
  <figcaption style="font-size: 12px; padding-top: 10px; padding-bottom: 15px; padding-left: 75px; padding-right: 75px; color:#00766e"><strong>Figure 7:</strong>Users can be assigned to roles by right-clicking a Role and selecting <i>'Edit members...'.</i></figcaption>
</figure>

  2. Click the __dropdown button__ on the 'Add Windows AD Member' button and choose __Azure AD Member__:

<figure style="padding-top: 15px;">
  <img class="noscale" src="~/images/data-security/data-security-edit-members-dialog.png" alt="Data Security Create Role" style="width: 550px;"/>
  <figcaption style="font-size: 12px; padding-top: 10px; padding-bottom: 15px; padding-left: 75px; padding-right: 75px; color:#00766e"><strong>Figure 8:</strong> For AAS/SSAS models, users can be added via the <i>'Edit members...'</i> dialog box.</figcaption>
</figure>

  3. Specify the Azure AD user identity (typically, the user e-mail address) as the __Member Name__ property.
  4. Click __OK__.
  5. __Save__ the model.

> [!IMPORTANT]
> If your organisation is using on-premises Active Directory with SQL Server Analysis Services, you will need to use the __Windows AD Member__ option instead of __Azure AD Member__.

> [!NOTE]
> It is [recommended](https://learn.microsoft.com/en-us/power-bi/guidance/powerbi-implementation-planning-security-tenant-level-planning#strategy-for-using-groups) to manage Data Security and Access with [Azure Active Directory Groups](https://learn.microsoft.com/en-us/azure/active-directory/fundamentals/how-to-manage-groups). 
> <br>Using this approach is preferred you can centralize management of security & user segmentation.

#### 4. __Provision Users Access to the Dataset:__ 
_Power BI:_ Users must be given dataset access according to the [usage scenario](https://learn.microsoft.com/en-us/power-bi/guidance/powerbi-implementation-planning-usage-scenario-overview).
- _App Audience:_ Users / their Azure AD Groups are added to the appropriate [App Audience](https://data-goblins.com/power-bi/app-audiences).
- _Workspace Viewer:_ Users / their Azure AD Groups are added as [Workspace Viewers](https://learn.microsoft.com/en-us/power-bi/guidance/powerbi-implementation-planning-workspaces-workspace-level-planning#workspace-access)
- _Dataset Readers:_ Users / their Azure AD Groups are given [Dataset-specific permissions](https://learn.microsoft.com/en-us/power-bi/connect-data/service-datasets-manage-access-permissions) via a Dataset or dependent item (i.e. Report).

> [!WARNING]
> Users given [Admin, Member or Contributor Workspace Roles](https://learn.microsoft.com/en-us/power-bi/collaborate-share/service-roles-new-workspaces#workspace-roles) have __*write permissions*__ to a dataset. As such, Data Security like RLS and OLS will not filter or block data for users with these roles.
> <br><br>
> __*If a user is an Admin, Member or Contributor, they will be able to see all the data*__. 
> <br><br>
> As much as is reasonable, try to distribute and manage permissions via Power BI Apps.

#### 5. __Validating Security:__ 
RLS and OLS can only be tested with impersonation once user groups have been added & granted access. Validate security via:
- _Tabular Editor:_ Using [User Impersonation](data-security-testing.md).
- _Power BI Service:_ In the [Dataset Security settings](https://learn.microsoft.com/en-us/power-bi/enterprise/service-admin-rls#validating-the-role-within-the-power-bi-service).
    
<figure style="padding-top: 15px;">
  <img class="noscale" src="~/images/data-security/data-security-impersonation.png" alt="Data Security Create Role" style="width: 550px;"/>
  <figcaption style="font-size: 12px; padding-top: 10px; padding-bottom: 15px; padding-left: 75px; padding-right: 75px; color:#00766e"><strong>Figure 5:</strong> The easiest way to test Data Security is via Impersonation with Tabular Editor. The 'Impersonation' option is possible from any data querying feature (DAX Queries, Pivot Grid, Preview Data).</figcaption>
</figure>

> [!NOTE]
> To validate data security with impersonation, the below factors must be all true:
> - The user must be assigned a role.
> - The user must have read permissions to the dataset.
> - The user must have __build permissions__ to the dataset. 

<figure style="padding-top: 15px;">
  <img class="noscale" src="~/images/data-security/data-security-impersonation-demo.gif" alt="Data Security Create Role" style="width: 550px;"/>
  <figcaption style="font-size: 12px; padding-top: 10px; padding-bottom: 15px; padding-left: 75px; padding-right: 75px; color:#00766e"><strong>Figure 6:</strong> A demonstration of RLS testing in Tabular Editor using impersonation. Shown is testing with (A) Data Preview, (B) DAX Queries and (C) Pivot Grid.</figcaption>
</figure>

> [!IMPORTANT]
> Testing Data Security with Impersonation using Tabular Editor 3 is limited to dataset hosted in the Power BI Datasets service. TE3 Desktop Licenses cannot benefit from this feature. This is because roles are assigned in the Power BI Service.

---

### How Does it Look?
Depending on how you have designed and configured Data Security, the experience may differ for users. 
Below are common examples for common scenarios of RLS and/or OLS implementation in a dataset

_Click a tab to see the example and get an explanation of each:_

---

# [None](#tab/nodatasecurity)
__Without security, everyone with access to the dataset can see all the data.__

The only restriction is whether they have access to the reports / datasets.


![No security](~/images/data-security/data-security-no-security.png)

_In the example, both Jack & Janet can see all of the data._

# [Static RLS](#tab/staticrls)
__With RLS configured, data is filtered to only rows the user are allowed to see.__ This is done according to the _Table Permissions_ configured in the model for that Table & Role. These Table Permissions are DAX Table Expressions configured for a specific model table. Rows that evaluate `True` are returned; rows that return `False` are filtered out due to RLS.

The most simple Table Permissions are _Static_:

```dax
// Table Permission for 'Regions' table and 'CTG' role
'Regions'[Territory] = "Central Transit Gate"
```

![Configuration of static RLS](~/images/data-security/data-security-static-rls.png)


_In the example:_
1. _Jack can see only rows for which 'Region'[Territory] = "Central Transit Gate", since they belong to the 'CTG' Role._ 
2. _Executives, whom are permitted to see all the data, are added to a role with no Table Permissions._
3. _Tommy, a user who can access the dataset but belongs to no Role, will not see any data. All visuals and queries will return a 'grey box of death'._


_It is necessary to create roles when using Data Security even when there are users like Executives, who have unrestricted data access._


# [Dynamic RLS](#tab/dynamicrls)
__With RLS configured, data is filtered to only rows the user are allowed to see.__
This is done according to the _Table Permissions_ configured in the model for that Table & Role.

These Table Permissions are DAX Table Expressions configured for a specific model table.
Rows that evaluate `True` are returned; rows that return `False` are filtered out due to RLS.

__*Dynamic* RLS relies on the `USERPRINCIPALNAME()` or `USERNAME()` functions to compare them to a security table.__
The security table will then return logic that applies the table filter to that or another table in the model.

This is referred to as _Dynamic_ RLS as the result will change depending on the user; the `USERPRINCIPALNAME()`.
Below is an example of a Dynamic RLS Table permission:

```dax
// Table Permission for 'Regions' table and 'Territory Directors' role.

// Get Current User
VAR _CurrentUser = 
SELECTCOLUMNS (
	FILTER ( 
		'Employees',
		'Employees'[Employee Email] = USERPRINCIPALNAME ()
	), 
	"@Name", 'Employees'[Employee Name]
)
RETURN 
'Regions'[Territory Directors] IN _CurrentUser
```

The above table permission gets the Employee Name alias from the 'Employees' table, which is applied without a relationship to the 'Regions' table. 
The result for any user added to this role is that they will only see data where:
1. Their e-mail is in the 'Employees'[Employee Email] column
2. Their alias in 'Employees'[Employee Name] matches one in 'Regions'[Territory Directors]


![Dynamic RLS Configuration](~/images/data-security/data-security-dynamic-rls.png)

_In the example, each Territory Director only sees the Territories for which they are responsible:_
1. _Jack sees "Central Transit Gate" and "Io"._
2. _Janet sees "Arcadia III"._
3. _Elisa sees all data, as the Execs role has no Table Permissions set._

*Dynamic RLS is the most common way to secure an Enterprise Dataset. It usually requires configuration & maintenance of a central __Security Table__ used across all Enterprise datasets.*


# [RLS (Multiple Roles)](#tab/multipleroles)
__When a user is assigned to multiple roles, each of which have different Table Permissions, they will see data permitted by either role.__ Users will see data where at least one Table Permission DAX expression evaluates to `True` for model table rows; it takes the logical `or`. 

This is dangerous if it's not expected; some developers may anticipate the intersection to be taken; to only show rows where __both__ Table Permissions return `True`. This will only happen if Table Permissions are configured for multiple tables in the model; __within a Role__, the intersection is taken for all Table Permissions in the model.

![RLS Roles combine table permissions using a logical OR](~/images/data-security/data-security-combining-rls-roles.png)

_In the example:_
1. _Jack is assigned to the roles 'CTG' and 'FTL'. They will see any rows where 'Products'[Type] = "FTL" __OR__ where 'Regions'[Territory] = "Central Transit Gate". This is likely not the expected behavior; the developer likely intends to produce the result of the 'CTG/FTL' role, which returns only rows where both are true._
2. _Elijah has the 'FTL' role, and will only see rows where 'Products'[Type] = "FTL".
3. _Abdullah has the 'CTG/FTL' role, and will only see rows where __BOTH__ 'Products'[Type] = "FTL" __AND__ 'Regions'[Territory] = "Central Transit Gate"._

_Situations like this illustrate the importance of designing clear Data Security configuration during model design, ensuring it aligns with organizational policies and existing Data Security / Access Management practices._

# [OLS](#tab/ols)
__With OLS configured as `None`, queries are prevented from being evaluated; they return an error.__ This is an important distinction from RLS; RLS filters data, but OLS prevents evaluation. If the OLS permission is set to `Read`, there is no effect. This is done according to the OLS Permission Level of the Column or Table, and __affects all downstream dependents__ like Relationships and Measures. 

![OLS configured for the Cost column](~/images/data-security/data-security-ols.png)

_In the example, the column 'Territory Sales'[Cost] has an OLS Permission of `None` for the role 'Sales'. The reason is because of the below requirement:_

`'Sales' users are allowed to see Sales data, but not Cost or Margin data.`

_This means that a user belonging to the 'Sales' role like Jack will not be able to see:_

1. _Any query or visual referring directly to the 'Territory Sales'[Cost] column_
2. _Any DAX measure or calculation item referring directly to the 'Territory Sales'[Cost] column, like [Margin %]_
3. _Any DAX measure or calculation item referring _indirectly_ (downstream) to the 'Territory Sales'[Cost] column._
4. _Any object that has a column with a relationship with 'Territory Sales'[Cost]_ 

_The result of 1-4 will be an __error__ in query evaluation. A Power BI visual will return a __grey box of death__._ 

> [!WARNING]
> __Business users will often perceive expected OLS results as being a 'broken' report, visual, or query. __
> <br>If using OLS and users are expected to confront these evaluations, try the following:<br>
> 1. Educate users about the security.
> 2. Try to handle the error and return a more meaningful message.
> 3. In Build scenarios, consider hiding the object. 
> 4. A further optimization to be tested is setting `IsPrivate` to `True` or `IsAvailableInMDX` to `False`. 

# [RLS+OLS (Single Role)](#tab/rlsols)
With both RLS & OLS configured, there are two possible outcomes:

1. __The user has *one role* with RLS & OLS:__ The security will work as expected, presuming it is configured correctly.
2. __The user has *multiple roles* where RLS & OLS are configured, separately:__ The role combination is unsupported and the user will get an error.

Because of #2, if you expect to use both RLS & OLS, this must be carefully considered during model design.

An example of #1 is below:

![Combining OLS and RLS in the same role produces the expected outcome](~/images/data-security/data-security-ols-and-rls-functional.png)

_In the example:_
1. _Jack, who has been assigned the 'CTG' Role:_
    - _Can only see data for "Central Transit Gate" due to the RLS Table Permission on 'Regions'._
    - _Can only see Sales data; they can't see [Margin %]. This is due to the OLS Object Permission `None` on 'Territory Sales'[Cost], which affects the dependent measure [Margin %]_
2. _Elisa, who has been assigned the 'Execs' Role, can see all the data. There has been no RLS Table Permission or OLS Object Permission (set to `Default`) configured for 'Execs'._
3. _Tommy, who has not been assigned a Role, cannot see any data._


> [!WARNING]
> Scenarios combining RLS & OLS are not rare.
> <br>Scenarios using them correctly are. 
> <br>Ensure that if you have a requirement for RLS & OLS together, carefully consider it during model design.


# [❌ RLS+OLS (Combine Roles)](#tab/rlsolscombined)
With both RLS & OLS configured, there are two possible outcomes:

1. __The user has *one role* with RLS & OLS:__ The security will work as expected, assuming it is configured correctly.
2. __The user has *multiple roles* where RLS & OLS are configured, separately:__ The role combination is unsupported and the user will get an error.

Because of #2, if you expect to use both RLS & OLS, this must be carefully considered during model design.

An example of #2 is below:

![❌ Combining OLS and RLS across roles will produce an error](~/images/data-security/data-security-ols-and-rls-dysfunctional.png)

_In the above example:_
1. _Jack, who has been assigned the 'Read Users' Role:_
    - _Can only see data for "Central Transit Gate" due to the RLS Table Permission on 'Regions'._
    - _Can only see Sales data; they can't see [Margin %]. This is due to the OLS Object Permission `None` on 'Territory Sales'[Cost], which affects the dependent measure [Margin %]_
2. _Janet, who has been assigned both the 'Read Users' and 'Build Users' Role:_
    - _Cannot see any data. The combination of RLS / OLS permissions across Roles are invalid._


_Users granted Build Permissions to the dataset are added to the Build Azure AD Security group, which is set for the 'Build Users' role. Build users can see tables not in existing reports, so `None` OLS permission is configured for the 'Employees' table. This produces a combination where RLS and OLS permissions cannot be reconciled, resulting in an error._


> [!WARNING]
> Scenarios combining RLS & OLS are not rare.
> <br>Scenarios using them correctly are. 
> <br>Ensure that if you have a requirement for RLS & OLS together, carefully consider it during model design.


# [❌ No Roles](#tab/role)
__No user will be able to read any data until they are added to the role__, so long as Data Security is configured in the dataset. 

![No Access or No Role](~/images/data-security/data-security-no-role.png)

> [!NOTE]
> Don't forget to give users access to the dataset AND add them to the security role.


# [❌ No Access](#tab/access)
__If a user is added to a security role, this will not automatically grant them read access to the dataset.__ They will still not be able to access any dataset or reports. 

![No Access or No Role](~/images/data-security/data-security-no-access.png)

> [!NOTE]
> Don't forget to give users access to the dataset AND add them to the security role.

> [!WARNING]
> __It is a best practice to avoid distribution via Workspace Roles, where feasible.__
> <br> If necessary, ensure that the __Principle of Least Permissions__ is applied : users should have the minimum access necessary to do what they need.


# [❌ Access Via Workspace Roles](#tab/workspace)
__If a user is given access to a dataset via the Admin, Member or Contributor roles, they will be able to view all data, irrespective of the data security configuration and their assigned roles.__ This is a common mistake in scaling or self-service Power BI ecosystems, resulting in data leaks and non-compliance. 

![Problems with ](~/images/data-security/data-security-workspace-roles.png)

> [!WARNING]
> __It is a best practice to avoid distribution via Workspace Roles, where feasible.__
> <br> If necessary, ensure that the __Principle of Least Permissions__ is applied : users should have the minimum access necessary to do what they need.

---

---

### Hard Limitations
Some reporting or data modeling features will not work with RLS or OLS configuration. Examples are:

1. [RLS Limitations](https://learn.microsoft.com/en-us/power-bi/enterprise/service-admin-rls#considerations-and-limitations)
    - Service Principles added to RLS Roles
    - Testing with Direct Query models using SSO
    - [Publish-to-Web in Power BI](https://learn.microsoft.com/en-us/power-bi/guidance/rls-guidance#when-to-avoid-using-rls)

2. [OLS Limitations](https://learn.microsoft.com/en-us/power-bi/enterprise/service-admin-ols?tabs=table#considerations-and-limitations)
    - Combining separate RLS roles & OLS roles (discussed above)
    - Q&A features
    - Quick Insights
    - Smart Narrative
    - Excel Data Types gallery


---


### Further Reading & References
For additional, detailed reading about Data Security, see the below references:

1. [Power BI Security Whitepaper](https://learn.microsoft.com/en-us/power-bi/guidance/whitepaper-powerbi-security)
2. [Power BI Docs - Security](https://learn.microsoft.com/en-us/power-bi/enterprise/service-admin-power-bi-security)
3. [Analysis Services Docs - Object-Level Security](https://learn.microsoft.com/en-us/analysis-services/tabular-models/object-level-security?view=asallproducts-allversions)
4. [Power BI Implementation Planning - Security](https://learn.microsoft.com/en-us/power-bi/guidance/powerbi-implementation-planning-security-report-consumer-planning)
5. [(Related) Power BI Implementation Planning - Information Protection & Data Loss Prevention (DLP)](https://learn.microsoft.com/en-us/power-bi/guidance/powerbi-implementation-planning-info-protection-data-loss-prevention-overview)